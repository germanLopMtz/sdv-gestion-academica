<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.16.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: &lt;tt&gt;\@remix-run/router&lt;/tt&gt;</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.16.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md__c_1_2_users_2annaa_2_one_drive_2_desktop_2sdv-gestion-academica_2sdv-frontend_2node__modules5da0b0ec63c5b72e12ca16f21eaaf5a1.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title"><span class="tt">@remix-run/router</span> </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md633"></a></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md634"></a>
1.20.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md635"></a>
Minor Changes</h2>
<ul>
<li>Stabilize <span class="tt">unstable_patchRoutesOnNavigation</span> (<a href="https://github.com/remix-run/react-router/pull/11973">#11973</a>)<ul>
<li>Add new <span class="tt">PatchRoutesOnNavigationFunctionArgs</span> type for convenience (<a href="https://github.com/remix-run/react-router/pull/11967">#11967</a>)</li>
</ul>
</li>
<li>Stabilize <span class="tt">unstable_dataStrategy</span> (<a href="https://github.com/remix-run/react-router/pull/11974">#11974</a>)</li>
<li>Stabilize the <span class="tt">unstable_flushSync</span> option for navigations and fetchers (<a href="https://github.com/remix-run/react-router/pull/11989">#11989</a>)</li>
<li>Stabilize the <span class="tt">unstable_viewTransition</span> option for navigations and the corresponding <span class="tt">unstable_useViewTransitionState</span> hook (<a href="https://github.com/remix-run/react-router/pull/11989">#11989</a>)</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md636"></a>
Patch Changes</h2>
<ul>
<li>Fix bug when submitting to the current contextual route (parent route with an index child) when an <span class="tt">?index</span> param already exists from a prior submission (<a href="https://github.com/remix-run/react-router/pull/12003">#12003</a>)</li>
<li>Fix <span class="tt">useFormAction</span> bug - when removing <span class="tt">?index</span> param it would not keep other non-Remix <span class="tt">index</span> params (<a href="https://github.com/remix-run/react-router/pull/12003">#12003</a>)</li>
<li>Fix bug with fetchers not persisting <span class="tt">preventScrollReset</span> through redirects during concurrent fetches (<a href="https://github.com/remix-run/react-router/pull/11999">#11999</a>)</li>
<li>Remove internal cache to fix issues with interrupted <span class="tt">patchRoutesOnNavigation</span> calls (<a href="https://github.com/remix-run/react-router/pull/12055">#12055</a>)<ul>
<li>We used to cache in-progress calls to <span class="tt">patchRoutesOnNavigation</span> internally so that multiple navigations with the same start/end would only execute the function once and use the same promise</li>
<li>However, this approach was at odds with <span class="tt">patch</span> short circuiting if a navigation was interrupted (and the <span class="tt">request.signal</span> aborted) since the first invocation's <span class="tt">patch</span> would no-op</li>
<li>This cache also made some assumptions as to what a valid cache key might be - and is oblivious to any other application-state changes that may have occurred</li>
<li>So, the cache has been removed because in <em>most</em> cases, repeated calls to something like <span class="tt">import()</span> for async routes will already be cached automatically - and if not it's easy enough for users to implement this cache in userland</li>
</ul>
</li>
<li>Avoid unnecessary <span class="tt">console.error</span> on fetcher abort due to back-to-back revalidation calls (<a href="https://github.com/remix-run/react-router/pull/12050">#12050</a>)</li>
<li>Expose errors thrown from <span class="tt">patchRoutesOnNavigation</span> directly to <span class="tt">useRouteError</span> instead of wrapping them in a 400 <span class="tt">ErrorResponse</span> instance (<a href="https://github.com/remix-run/react-router/pull/12111">#12111</a>)</li>
<li>Fix types for <span class="tt">RouteObject</span> within <span class="tt">PatchRoutesOnNavigationFunction</span>'s <span class="tt">patch</span> method so it doesn't expect agnostic route objects passed to <span class="tt">patch</span> (<a href="https://github.com/remix-run/react-router/pull/11967">#11967</a>)</li>
<li>Fix bugs with <span class="tt">partialHydration</span> when hydrating with errors (<a href="https://github.com/remix-run/react-router/pull/12070">#12070</a>)</li>
<li>Remove internal <span class="tt">discoveredRoutes</span> FIFO queue from <span class="tt">unstable_patchRoutesOnNavigation</span> (<a href="https://github.com/remix-run/react-router/pull/11977">#11977</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md637"></a>
1.19.2</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md638"></a>
Patch Changes</h2>
<ul>
<li>Update the <span class="tt">unstable_dataStrategy</span> API to allow for more advanced implementations (<a href="https://github.com/remix-run/react-router/pull/11943">#11943</a>)<ul>
<li>Rename <span class="tt">unstable_HandlerResult</span> to <span class="tt">unstable_DataStrategyResult</span></li>
<li>The return signature has changed from a parallel array of <span class="tt">unstable_DataStrategyResult[]</span> (parallel to <span class="tt">matches</span>) to a key/value object of <span class="tt">routeId =&gt; unstable_DataStrategyResult</span><ul>
<li>This allows you to more easily decide to opt-into or out-of revalidating data that may not have been revalidated by default (via <span class="tt">match.shouldLoad</span>)</li>
<li>⚠️ This is a breaking change if you've currently adopted <span class="tt">unstable_dataStrategy</span></li>
</ul>
</li>
<li>Added a new <span class="tt">fetcherKey</span> parameter to <span class="tt">unstable_dataStrategy</span> to allow differentiation from navigational and fetcher calls</li>
<li>You should now return/throw a result from your <span class="tt">handlerOverride</span> instead of returning a <span class="tt">DataStrategyResult</span><ul>
<li>If you are aggregating the results of <span class="tt">match.resolve()</span> into a final results object you should not need to think about the <span class="tt">DataStrategyResult</span> type</li>
<li>If you are manually filling your results object from within your <span class="tt">handlerOverride</span>, then you will need to assign a <span class="tt">DataStrategyResult</span> as the value so React Router knows if it's a successful execution or an error.</li>
</ul>
</li>
</ul>
</li>
<li>Preserve view transition through redirects (<a href="https://github.com/remix-run/react-router/pull/11925">#11925</a>)</li>
<li>Fix blocker usage when <span class="tt">blocker.proceed</span> is called quickly/synchronously (<a href="https://github.com/remix-run/react-router/pull/11930">#11930</a>)</li>
<li>Preserve pending view transitions through a router revalidation call (<a href="https://github.com/remix-run/react-router/pull/11917">#11917</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md639"></a>
1.19.1</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md640"></a>
Patch Changes</h2>
<ul>
<li>Fog of War: Update <span class="tt">unstable_patchRoutesOnMiss</span> logic so that we call the method when we match routes with dynamic param or splat segments in case there exists a higher-scoring static route that we've not yet discovered. (<a href="https://github.com/remix-run/react-router/pull/11883">#11883</a>)<ul>
<li>We also now leverage an internal FIFO queue of previous paths we've already called <span class="tt">unstable_patchRouteOnMiss</span> against so that we don't re-call on subsequent navigations to the same path</li>
</ul>
</li>
<li>Rename <span class="tt">unstable_patchRoutesOnMiss</span> to <span class="tt">unstable_patchRoutesOnNavigation</span> to match new behavior (<a href="https://github.com/remix-run/react-router/pull/11888">#11888</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md641"></a>
1.19.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md642"></a>
Minor Changes</h2>
<ul>
<li>Add a new <span class="tt">replace(url, init?)</span> alternative to <span class="tt">redirect(url, init?)</span> that performs a <span class="tt">history.replaceState</span> instead of a <span class="tt">history.pushState</span> on client-side navigation redirects (<a href="https://github.com/remix-run/react-router/pull/11811">#11811</a>)</li>
<li>Add a new <span class="tt">unstable_data()</span> API for usage with Remix Single Fetch (<a href="https://github.com/remix-run/react-router/pull/11836">#11836</a>)<ul>
<li>This API is not intended for direct usage in React Router SPA applications</li>
<li>It is primarily intended for usage with <span class="tt">createStaticHandler.query()</span> to allow loaders/actions to return arbitrary data + <span class="tt">status</span>/<span class="tt">headers</span> without forcing the serialization of data into a <span class="tt">Response</span> instance</li>
<li>This allows for more advanced serialization tactics via <span class="tt">unstable_dataStrategy</span> such as serializing via <span class="tt">turbo-stream</span> in Remix Single Fetch</li>
<li>⚠️ This removes the <span class="tt">status</span> field from <span class="tt">HandlerResult</span><ul>
<li>If you need to return a specific <span class="tt">status</span> from <span class="tt">unstable_dataStrategy</span> you should instead do so via <span class="tt">unstable_data()</span></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md643"></a>
Patch Changes</h2>
<ul>
<li>Fix internal cleanup of interrupted fetchers to avoid invalid revalidations on navigations (<a href="https://github.com/remix-run/react-router/pull/11839">#11839</a>)<ul>
<li>When a <span class="tt">fetcher.load</span> is interrupted by an <span class="tt">action</span> submission, we track it internally and force revalidation once the <span class="tt">action</span> completes</li>
<li>We previously only cleared out this internal tracking info on a successful <em>navigation</em> submission</li>
<li>Therefore, if the <span class="tt">fetcher.load</span> was interrupted by a <span class="tt">fetcher.submit</span>, then we wouldn't remove it from this internal tracking info on successful load (incorrectly)</li>
<li>And then on the next navigation it's presence in the internal tracking would automatically trigger execution of the <span class="tt">fetcher.load</span> again, ignoring any <span class="tt">shouldRevalidate</span> logic</li>
<li>This fix cleans up the internal tracking so it applies to both navigation submission and fetcher submissions</li>
</ul>
</li>
<li>Fix initial hydration behavior when using <span class="tt">future.v7_partialHydration</span> along with <span class="tt">unstable_patchRoutesOnMiss</span> (<a href="https://github.com/remix-run/react-router/pull/11838">#11838</a>)<ul>
<li>During initial hydration, <span class="tt">router.state.matches</span> will now include any partial matches so that we can render ancestor <span class="tt">HydrateFallback</span> components</li>
</ul>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md644"></a>
1.18.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md645"></a>
Minor Changes</h2>
<ul>
<li>Stabilize <span class="tt">future.unstable_skipActionErrorRevalidation</span> as <span class="tt">future.v7_skipActionErrorRevalidation</span> (<a href="https://github.com/remix-run/react-router/pull/11769">#11769</a>)<ul>
<li>When this flag is enabled, actions will not automatically trigger a revalidation if they return/throw a <span class="tt">Response</span> with a <span class="tt">4xx</span>/<span class="tt">5xx</span> status code</li>
<li>You may still opt-into revalidation via <span class="tt">shouldRevalidate</span></li>
<li>This also changes <span class="tt">shouldRevalidate</span>'s <span class="tt">unstable_actionStatus</span> parameter to <span class="tt">actionStatus</span></li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md646"></a>
Patch Changes</h2>
<ul>
<li>Fix bubbling of errors thrown from <span class="tt">unstable_patchRoutesOnMiss</span> (<a href="https://github.com/remix-run/react-router/pull/11786">#11786</a>)</li>
<li>Fix hydration in SSR apps using <span class="tt">unstable_patchRoutesOnMiss</span> that matched a splat route on the server (<a href="https://github.com/remix-run/react-router/pull/11790">#11790</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md647"></a>
1.17.1</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md648"></a>
Patch Changes</h2>
<ul>
<li>Fog of War (unstable): Trigger a new <span class="tt">router.routes</span> identity/reflow during route patching (<a href="https://github.com/remix-run/react-router/pull/11740">#11740</a>)</li>
<li>Fog of War (unstable): Fix initial matching when a splat route matches (<a href="https://github.com/remix-run/react-router/pull/11759">#11759</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md649"></a>
1.17.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md650"></a>
Minor Changes</h2>
<ul>
<li>Add support for Lazy Route Discovery (a.k.a. Fog of War) (<a href="https://github.com/remix-run/react-router/pull/11626">#11626</a>)<ul>
<li>RFC: <a href="https://github.com/remix-run/react-router/discussions/11113">https://github.com/remix-run/react-router/discussions/11113</a></li>
<li><span class="tt">unstable_patchRoutesOnMiss</span> docs: <a href="https://reactrouter.com/en/main/routers/create-browser-router">https://reactrouter.com/en/main/routers/create-browser-router</a></li>
</ul>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md651"></a>
1.16.1</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md652"></a>
Patch Changes</h2>
<ul>
<li>Support <span class="tt">unstable_dataStrategy</span> on <span class="tt">staticHandler.queryRoute</span> (<a href="https://github.com/remix-run/react-router/pull/11515">#11515</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md653"></a>
1.16.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md654"></a>
Minor Changes</h2>
<ul>
<li>Add a new <span class="tt">unstable_dataStrategy</span> configuration option (<a href="https://github.com/remix-run/react-router/pull/11098">#11098</a>)<ul>
<li>This option allows Data Router applications to take control over the approach for executing route loaders and actions</li>
<li>The default implementation is today's behavior, to fetch all loaders in parallel, but this option allows users to implement more advanced data flows including Remix single-fetch, middleware/context APIs, automatic loader caching, and more</li>
</ul>
</li>
<li>Move <span class="tt">unstable_dataStrategy</span> from <span class="tt">createStaticHandler</span> to <span class="tt">staticHandler.query</span> so it can be request-specific for use with the <span class="tt">ResponseStub</span> approach in Remix. It's not really applicable to <span class="tt">queryRoute</span> for now since that's a singular handler call anyway so any pre-processing/post/processing could be done there manually. (<a href="https://github.com/remix-run/react-router/pull/11377">#11377</a>)</li>
<li>Add a new <span class="tt">future.unstable_skipActionRevalidation</span> future flag (<a href="https://github.com/remix-run/react-router/pull/11098">#11098</a>)<ul>
<li>Currently, active loaders revalidate after any action, regardless of the result</li>
<li>With this flag enabled, actions that return/throw a 4xx/5xx response status will no longer automatically revalidate</li>
<li>This should reduce load on your server since it's rare that a 4xx/5xx should actually mutate any data</li>
<li>If you need to revalidate after a 4xx/5xx result with this flag enabled, you can still do that via returning <span class="tt">true</span> from <span class="tt">shouldRevalidate</span></li>
<li><span class="tt">shouldRevalidate</span> now also receives a new <span class="tt">unstable_actionStatus</span> argument alongside <span class="tt">actionResult</span> so you can make decision based on the status of the <span class="tt">action</span> response without having to encode it into the action data</li>
</ul>
</li>
<li>Added a <span class="tt">skipLoaderErrorBubbling</span> flag to <span class="tt">staticHandler.query</span> to disable error bubbling on loader executions for single-fetch scenarios where the client-side router will handle the bubbling (<a href="https://github.com/remix-run/react-router/pull/11098">#11098</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md655"></a>
1.15.3</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md656"></a>
Patch Changes</h2>
<ul>
<li>Fix a <span class="tt">future.v7_partialHydration</span> bug that would re-run loaders below the boundary on hydration if SSR loader errors bubbled to a parent boundary (<a href="https://github.com/remix-run/react-router/pull/11324">#11324</a>)</li>
<li>Fix a <span class="tt">future.v7_partialHydration</span> bug that would consider the router uninitialized if a route did not have a loader (<a href="https://github.com/remix-run/react-router/pull/11325">#11325</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md657"></a>
1.15.2</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md658"></a>
Patch Changes</h2>
<ul>
<li>Preserve hydrated errors during partial hydration runs (<a href="https://github.com/remix-run/react-router/pull/11305">#11305</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md659"></a>
1.15.1</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md660"></a>
Patch Changes</h2>
<ul>
<li>Fix encoding/decoding issues with pre-encoded dynamic parameter values (<a href="https://github.com/remix-run/react-router/pull/11199">#11199</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md661"></a>
1.15.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md662"></a>
Minor Changes</h2>
<ul>
<li>Add a <span class="tt">createStaticHandler</span> <span class="tt">future.v7_throwAbortReason</span> flag to throw <span class="tt">request.signal.reason</span> (defaults to a <span class="tt">DOMException</span>) when a request is aborted instead of an <span class="tt">Error</span> such as <span class="tt">new Error("query() call aborted: GET /path")</span> (<a href="https://github.com/remix-run/react-router/pull/11104">#11104</a>)<ul>
<li>Please note that <span class="tt">DOMException</span> was added in Node v17 so you will not get a <span class="tt">DOMException</span> on Node 16 and below.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md663"></a>
Patch Changes</h2>
<ul>
<li>Respect the <span class="tt">ErrorResponse</span> status code if passed to <span class="tt">getStaticContextFormError</span> (<a href="https://github.com/remix-run/react-router/pull/11213">#11213</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md664"></a>
1.14.2</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md665"></a>
Patch Changes</h2>
<ul>
<li>Fix bug where dashes were not picked up in dynamic parameter names (<a href="https://github.com/remix-run/react-router/pull/11160">#11160</a>)</li>
<li>Do not attempt to deserialize empty JSON responses (<a href="https://github.com/remix-run/react-router/pull/11164">#11164</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md666"></a>
1.14.1</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md667"></a>
Patch Changes</h2>
<ul>
<li>Fix bug with <span class="tt">route.lazy</span> not working correctly on initial SPA load when <span class="tt">v7_partialHydration</span> is specified (<a href="https://github.com/remix-run/react-router/pull/11121">#11121</a>)</li>
<li>Fix bug preventing revalidation from occurring for persisted fetchers unmounted during the <span class="tt">submitting</span> phase (<a href="https://github.com/remix-run/react-router/pull/11102">#11102</a>)</li>
<li>De-dup relative path logic in <span class="tt">resolveTo</span> (<a href="https://github.com/remix-run/react-router/pull/11097">#11097</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md668"></a>
1.14.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md669"></a>
Minor Changes</h2>
<ul>
<li><p class="startli">Added a new <span class="tt">future.v7_partialHydration</span> future flag that enables partial hydration of a data router when Server-Side Rendering. This allows you to provide <span class="tt">hydrationData.loaderData</span> that has values for <em>some</em> initially matched route loaders, but not all. When this flag is enabled, the router will call <span class="tt">loader</span> functions for routes that do not have hydration loader data during <span class="tt">router.initialize()</span>, and it will render down to the deepest provided <span class="tt">HydrateFallback</span> (up to the first route without hydration data) while it executes the unhydrated routes. (<a href="https://github.com/remix-run/react-router/pull/11033">#11033</a>)</p>
<p class="startli">For example, the following router has a <span class="tt">root</span> and <span class="tt">index</span> route, but only provided <span class="tt">hydrationData.loaderData</span> for the <span class="tt">root</span> route. Because the <span class="tt">index</span> route has a <span class="tt">loader</span>, we need to run that during initialization. With <span class="tt">future.v7_partialHydration</span> specified, <span class="tt">&lt;RouterProvider&gt;</span> will render the <span class="tt">RootComponent</span> (because it has data) and then the <span class="tt">IndexFallback</span> (since it does not have data). Once <span class="tt">indexLoader</span> finishes, application will update and display <span class="tt">IndexComponent</span>.</p>
<div class="fragment"><div class="line">let router = createBrowserRouter(</div>
<div class="line">  [</div>
<div class="line">    {</div>
<div class="line">      id: &quot;root&quot;,</div>
<div class="line">      path: &quot;/&quot;,</div>
<div class="line">      loader: rootLoader,</div>
<div class="line">      Component: RootComponent,</div>
<div class="line">      Fallback: RootFallback,</div>
<div class="line">      children: [</div>
<div class="line">        {</div>
<div class="line">          id: &quot;index&quot;,</div>
<div class="line">          index: true,</div>
<div class="line">          loader: indexLoader,</div>
<div class="line">          Component: IndexComponent,</div>
<div class="line">          HydrateFallback: IndexFallback,</div>
<div class="line">        },</div>
<div class="line">      ],</div>
<div class="line">    },</div>
<div class="line">  ],</div>
<div class="line">  {</div>
<div class="line">    future: {</div>
<div class="line">      v7_partialHydration: true,</div>
<div class="line">    },</div>
<div class="line">    hydrationData: {</div>
<div class="line">      loaderData: {</div>
<div class="line">        root: { message: &quot;Hydrated from Root!&quot; },</div>
<div class="line">      },</div>
<div class="line">    },</div>
<div class="line">  }</div>
<div class="line">);</div>
</div><!-- fragment --><p class="startli">If the above example did not have an <span class="tt">IndexFallback</span>, then <span class="tt">RouterProvider</span> would instead render the <span class="tt">RootFallback</span> while it executed the <span class="tt">indexLoader</span>.</p>
<p class="startli"><b>Note:</b> When <span class="tt">future.v7_partialHydration</span> is provided, the <span class="tt">&lt;RouterProvider fallbackElement&gt;</span> prop is ignored since you can move it to a <span class="tt">Fallback</span> on your top-most route. The <span class="tt">fallbackElement</span> prop will be removed in React Router v7 when <span class="tt">v7_partialHydration</span> behavior becomes the standard behavior.</p>
</li>
<li><p class="startli">Add a new <span class="tt">future.v7_relativeSplatPath</span> flag to implement a breaking bug fix to relative routing when inside a splat route. (<a href="https://github.com/remix-run/react-router/pull/11087">#11087</a>)</p>
<p class="startli">This fix was originally added in <a href="https://github.com/remix-run/react-router/issues/10983">#10983</a> and was later reverted in <a href="https://github.com/remix-run/react-router/pull/11078">#11078</a> because it was determined that a large number of existing applications were relying on the buggy behavior (see <a href="https://github.com/remix-run/react-router/issues/11052">#11052</a>)</p>
<p class="startli"><b>The Bug</b> The buggy behavior is that without this flag, the default behavior when resolving relative paths is to <em>ignore</em> any splat (<span class="tt">*</span>) portion of the current route path.</p>
<p class="startli"><b>The Background</b> This decision was originally made thinking that it would make the concept of nested different sections of your apps in <span class="tt">&lt;Routes&gt;</span> easier if relative routing would <em>replace</em> the current splat:</p>
<div class="fragment"><div class="line">&lt;BrowserRouter&gt;</div>
<div class="line">  &lt;Routes&gt;</div>
<div class="line">    &lt;Route path=&quot;/&quot; element={&lt;Home /&gt;} /&gt;</div>
<div class="line">    &lt;Route path=&quot;dashboard/*&quot; element={&lt;Dashboard /&gt;} /&gt;</div>
<div class="line">  &lt;/Routes&gt;</div>
<div class="line">&lt;/BrowserRouter&gt;</div>
</div><!-- fragment --><p class="startli">Any paths like <span class="tt">/dashboard</span>, <span class="tt">/dashboard/team</span>, <span class="tt">/dashboard/projects</span> will match the <span class="tt">Dashboard</span> route. The dashboard component itself can then render nested <span class="tt">&lt;Routes&gt;</span>:</p>
<div class="fragment"><div class="line">function Dashboard() {</div>
<div class="line">  return (</div>
<div class="line">    &lt;div&gt;</div>
<div class="line">      &lt;h2&gt;Dashboard&lt;/h2&gt;</div>
<div class="line">      &lt;nav&gt;</div>
<div class="line">        &lt;Link to=&quot;/&quot;&gt;Dashboard Home&lt;/Link&gt;</div>
<div class="line">        &lt;Link to=&quot;team&quot;&gt;Team&lt;/Link&gt;</div>
<div class="line">        &lt;Link to=&quot;projects&quot;&gt;Projects&lt;/Link&gt;</div>
<div class="line">      &lt;/nav&gt;</div>
<div class="line"> </div>
<div class="line">      &lt;Routes&gt;</div>
<div class="line">        &lt;Route path=&quot;/&quot; element={&lt;DashboardHome /&gt;} /&gt;</div>
<div class="line">        &lt;Route path=&quot;team&quot; element={&lt;DashboardTeam /&gt;} /&gt;</div>
<div class="line">        &lt;Route path=&quot;projects&quot; element={&lt;DashboardProjects /&gt;} /&gt;</div>
<div class="line">      &lt;/Routes&gt;</div>
<div class="line">    &lt;/div&gt;</div>
<div class="line">  );</div>
<div class="line">}</div>
</div><!-- fragment --><p class="startli">Now, all links and route paths are relative to the router above them. This makes code splitting and compartmentalizing your app really easy. You could render the <span class="tt">Dashboard</span> as its own independent app, or embed it into your large app without making any changes to it.</p>
<p class="startli"><b>The Problem</b></p>
<p class="startli">The problem is that this concept of ignoring part of a path breaks a lot of other assumptions in React Router - namely that <span class="tt">"."</span> always means the current location pathname for that route. When we ignore the splat portion, we start getting invalid paths when using <span class="tt">"."</span>:</p>
<div class="fragment"><div class="line">// If we are on URL /dashboard/team, and we want to link to /dashboard/team:</div>
<div class="line">function DashboardTeam() {</div>
<div class="line">  // ❌ This is broken and results in &lt;a href=&quot;/dashboard&quot;&gt;</div>
<div class="line">  return &lt;Link to=&quot;.&quot;&gt;A broken link to the Current URL&lt;/Link&gt;;</div>
<div class="line"> </div>
<div class="line">  // ✅ This is fixed but super unintuitive since we&#39;re already at /dashboard/team!</div>
<div class="line">  return &lt;Link to=&quot;./team&quot;&gt;A broken link to the Current URL&lt;/Link&gt;;</div>
<div class="line">}</div>
</div><!-- fragment --><p class="startli">We've also introduced an issue that we can no longer move our <span class="tt">DashboardTeam</span> component around our route hierarchy easily - since it behaves differently if we're underneath a non-splat route, such as <span class="tt">/dashboard/:widget</span>. Now, our <span class="tt">"."</span> links will, properly point to ourself <em>inclusive of the dynamic param value</em> so behavior will break from it's corresponding usage in a <span class="tt">/dashboard/*</span> route.</p>
<p class="startli">Even worse, consider a nested splat route configuration:</p>
<div class="fragment"><div class="line">&lt;BrowserRouter&gt;</div>
<div class="line">  &lt;Routes&gt;</div>
<div class="line">    &lt;Route path=&quot;dashboard&quot;&gt;</div>
<div class="line">      &lt;Route path=&quot;*&quot; element={&lt;Dashboard /&gt;} /&gt;</div>
<div class="line">    &lt;/Route&gt;</div>
<div class="line">  &lt;/Routes&gt;</div>
<div class="line">&lt;/BrowserRouter&gt;</div>
</div><!-- fragment --><p class="startli">Now, a <span class="tt">&lt;Link to="."&gt;</span> and a <span class="tt">&lt;Link to=".."&gt;</span> inside the <span class="tt">Dashboard</span> component go to the same place! That is definitely not correct!</p>
<p class="startli">Another common issue arose in Data Routers (and Remix) where any <span class="tt">&lt;Form&gt;</span> should post to it's own route <span class="tt">action</span> if you the user doesn't specify a form action:</p>
<div class="fragment"><div class="line">let router = createBrowserRouter({</div>
<div class="line">  path: &quot;/dashboard&quot;,</div>
<div class="line">  children: [</div>
<div class="line">    {</div>
<div class="line">      path: &quot;*&quot;,</div>
<div class="line">      action: dashboardAction,</div>
<div class="line">      Component() {</div>
<div class="line">        // ❌ This form is broken!  It throws a 405 error when it submits because</div>
<div class="line">        // it tries to submit to /dashboard (without the splat value) and the parent</div>
<div class="line">        // `/dashboard` route doesn&#39;t have an action</div>
<div class="line">        return &lt;Form method=&quot;post&quot;&gt;...&lt;/Form&gt;;</div>
<div class="line">      },</div>
<div class="line">    },</div>
<div class="line">  ],</div>
<div class="line">});</div>
</div><!-- fragment --><p class="startli">This is just a compounded issue from the above because the default location for a <span class="tt">Form</span> to submit to is itself (<span class="tt">"."</span>) - and if we ignore the splat portion, that now resolves to the parent route.</p>
<p class="startli"><b>The Solution</b> If you are leveraging this behavior, it's recommended to enable the future flag, move your splat to it's own route, and leverage <span class="tt">../</span> for any links to "sibling" pages:</p>
<div class="fragment"><div class="line">&lt;BrowserRouter&gt;</div>
<div class="line">  &lt;Routes&gt;</div>
<div class="line">    &lt;Route path=&quot;dashboard&quot;&gt;</div>
<div class="line">      &lt;Route index path=&quot;*&quot; element={&lt;Dashboard /&gt;} /&gt;</div>
<div class="line">    &lt;/Route&gt;</div>
<div class="line">  &lt;/Routes&gt;</div>
<div class="line">&lt;/BrowserRouter&gt;</div>
<div class="line"> </div>
<div class="line">function Dashboard() {</div>
<div class="line">  return (</div>
<div class="line">    &lt;div&gt;</div>
<div class="line">      &lt;h2&gt;Dashboard&lt;/h2&gt;</div>
<div class="line">      &lt;nav&gt;</div>
<div class="line">        &lt;Link to=&quot;..&quot;&gt;Dashboard Home&lt;/Link&gt;</div>
<div class="line">        &lt;Link to=&quot;../team&quot;&gt;Team&lt;/Link&gt;</div>
<div class="line">        &lt;Link to=&quot;../projects&quot;&gt;Projects&lt;/Link&gt;</div>
<div class="line">      &lt;/nav&gt;</div>
<div class="line"> </div>
<div class="line">      &lt;Routes&gt;</div>
<div class="line">        &lt;Route path=&quot;/&quot; element={&lt;DashboardHome /&gt;} /&gt;</div>
<div class="line">        &lt;Route path=&quot;team&quot; element={&lt;DashboardTeam /&gt;} /&gt;</div>
<div class="line">        &lt;Route path=&quot;projects&quot; element={&lt;DashboardProjects /&gt;} /&gt;</div>
<div class="line">      &lt;/Router&gt;</div>
<div class="line">    &lt;/div&gt;</div>
<div class="line">  );</div>
<div class="line">}</div>
</div><!-- fragment --><p class="startli">This way, <span class="tt">.</span> means "the full current pathname for my route" in all cases (including static, dynamic, and splat routes) and <span class="tt">..</span> always means "my parents pathname".</p>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md670"></a>
Patch Changes</h2>
<ul>
<li>Catch and bubble errors thrown when trying to unwrap responses from <span class="tt">loader</span>/<span class="tt">action</span> functions (<a href="https://github.com/remix-run/react-router/pull/11061">#11061</a>)</li>
<li>Fix <span class="tt">relative="path"</span> issue when rendering <span class="tt">Link</span>/<span class="tt">NavLink</span> outside of matched routes (<a href="https://github.com/remix-run/react-router/pull/11062">#11062</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md671"></a>
1.13.1</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md672"></a>
Patch Changes</h2>
<ul>
<li>Revert the <span class="tt">useResolvedPath</span> fix for splat routes due to a large number of applications that were relying on the buggy behavior (see <a href="https://github.com/remix-run/react-router/issues/11052#issuecomment-1836589329">https://github.com/remix-run/react-router/issues/11052#issuecomment-1836589329</a>). We plan to re-introduce this fix behind a future flag in the next minor version. (<a href="https://github.com/remix-run/react-router/pull/11078">#11078</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md673"></a>
1.13.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md674"></a>
Minor Changes</h2>
<ul>
<li>Export the <span class="tt">PathParam</span> type from the public API (<a href="https://github.com/remix-run/react-router/pull/10719">#10719</a>)</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md675"></a>
Patch Changes</h2>
<ul>
<li>Fix bug with <span class="tt">resolveTo</span> in splat routes (<a href="https://github.com/remix-run/react-router/pull/11045">#11045</a>)<ul>
<li>This is a follow up to <a href="https://github.com/remix-run/react-router/pull/10983">#10983</a> to handle the few other code paths using <span class="tt">getPathContributingMatches</span></li>
<li>This removes the <span class="tt">UNSAFE_getPathContributingMatches</span> export from <span class="tt">@remix-run/router</span> since we no longer need this in the <span class="tt">react-router</span>/<span class="tt">react-router-dom</span> layers</li>
</ul>
</li>
<li>Do not revalidate unmounted fetchers when <span class="tt">v7_fetcherPersist</span> is enabled (<a href="https://github.com/remix-run/react-router/pull/11044">#11044</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md676"></a>
1.12.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md677"></a>
Minor Changes</h2>
<ul>
<li>Add <span class="tt">unstable_flushSync</span> option to <span class="tt">router.navigate</span> and <span class="tt">router.fetch</span> to tell the React Router layer to opt-out of <span class="tt">React.startTransition</span> and into <span class="tt">ReactDOM.flushSync</span> for state updates (<a href="https://github.com/remix-run/react-router/pull/11005">#11005</a>)</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md678"></a>
Patch Changes</h2>
<ul>
<li><p class="startli">Fix <span class="tt">relative="path"</span> bug where relative path calculations started from the full location pathname, instead of from the current contextual route pathname. (<a href="https://github.com/remix-run/react-router/pull/11006">#11006</a>)</p>
<div class="fragment"><div class="line">&lt;Route path=&quot;/a&quot;&gt;</div>
<div class="line">  &lt;Route path=&quot;/b&quot; element={&lt;Component /&gt;}&gt;</div>
<div class="line">    &lt;Route path=&quot;/c&quot; /&gt;</div>
<div class="line">  &lt;/Route&gt;</div>
<div class="line">&lt;/Route&gt;;</div>
<div class="line"> </div>
<div class="line">function Component() {</div>
<div class="line">  return (</div>
<div class="line">    &lt;&gt;</div>
<div class="line">      {/* This is now correctly relative to /a/b, not /a/b/c */}</div>
<div class="line">      &lt;Link to=&quot;..&quot; relative=&quot;path&quot; /&gt;</div>
<div class="line">      &lt;Outlet /&gt;</div>
<div class="line">    &lt;/&gt;</div>
<div class="line">  );</div>
<div class="line">}</div>
</div><!-- fragment --></li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md679"></a>
1.11.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md680"></a>
Minor Changes</h2>
<ul>
<li>Add a new <span class="tt">future.v7_fetcherPersist</span> flag to the <span class="tt">@remix-run/router</span> to change the persistence behavior of fetchers when <span class="tt">router.deleteFetcher</span> is called. Instead of being immediately cleaned up, fetchers will persist until they return to an <span class="tt">idle</span> state (<a href="https://github.com/remix-run/remix/discussions/7698">RFC</a>) (<a href="https://github.com/remix-run/react-router/pull/10962">#10962</a>)<ul>
<li>This is sort of a long-standing bug fix as the <span class="tt">useFetchers()</span> API was always supposed to only reflect <b>in-flight</b> fetcher information for pending/optimistic UI &ndash; it was not intended to reflect fetcher data or hang onto fetchers after they returned to an <span class="tt">idle</span> state</li>
<li>Keep an eye out for the following specific behavioral changes when opting into this flag and check your app for compatibility:<ul>
<li>Fetchers that complete <em>while still mounted</em> will no longer appear in <span class="tt">useFetchers()</span>. They served effectively no purpose in there since you can access the data via <span class="tt">useFetcher().data</span>).</li>
<li>Fetchers that previously unmounted <em>while in-flight</em> will not be immediately aborted and will instead be cleaned up once they return to an <span class="tt">idle</span> state. They will remain exposed via <span class="tt">useFetchers</span> while in-flight so you can still access pending/optimistic data after unmount.</li>
</ul>
</li>
</ul>
</li>
<li>When <span class="tt">v7_fetcherPersist</span> is enabled, the router now performs ref-counting on fetcher keys via <span class="tt">getFetcher</span>/<span class="tt">deleteFetcher</span> so it knows when a given fetcher is totally unmounted from the UI (<a href="https://github.com/remix-run/react-router/pull/10977">#10977</a>)<ul>
<li>Once a fetcher has been totally unmounted, we can ignore post-processing of a persisted fetcher result such as a redirect or an error</li>
<li>The router will also pass a new <span class="tt">deletedFetchers</span> array to the subscriber callbacks so that the UI layer can remove associated fetcher data</li>
</ul>
</li>
<li>Add support for optional path segments in <span class="tt">matchPath</span> (<a href="https://github.com/remix-run/react-router/pull/10768">#10768</a>)</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md681"></a>
Patch Changes</h2>
<ul>
<li>Fix <span class="tt">router.getFetcher</span>/<span class="tt">router.deleteFetcher</span> type definitions which incorrectly specified <span class="tt">key</span> as an optional parameter (<a href="https://github.com/remix-run/react-router/pull/10960">#10960</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md682"></a>
1.10.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md683"></a>
Minor Changes</h2>
<ul>
<li>Add experimental support for the <a href="https://developer.mozilla.org/en-US/docs/Web/API/ViewTransition">View Transitions API</a> by allowing users to opt-into view transitions on navigations via the new <span class="tt">unstable_viewTransition</span> option to <span class="tt">router.navigate</span> (<a href="https://github.com/remix-run/react-router/pull/10916">#10916</a>)</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md684"></a>
Patch Changes</h2>
<ul>
<li>Allow 404 detection to leverage root route error boundary if path contains a URL segment (<a href="https://github.com/remix-run/react-router/pull/10852">#10852</a>)</li>
<li>Fix <span class="tt">ErrorResponse</span> type to avoid leaking internal field (<a href="https://github.com/remix-run/react-router/pull/10876">#10876</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md685"></a>
1.9.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md686"></a>
Minor Changes</h2>
<ul>
<li>In order to move towards stricter TypeScript support in the future, we're aiming to replace current usages of <span class="tt">any</span> with <span class="tt">unknown</span> on exposed typings for user-provided data. To do this in Remix v2 without introducing breaking changes in React Router v6, we have added generics to a number of shared types. These continue to default to <span class="tt">any</span> in React Router and are overridden with <span class="tt">unknown</span> in Remix. In React Router v7 we plan to move these to <span class="tt">unknown</span> as a breaking change. (<a href="https://github.com/remix-run/react-router/pull/10843">#10843</a>)<ul>
<li><span class="tt">Location</span> now accepts a generic for the <span class="tt">location.state</span> value</li>
<li><span class="tt">ActionFunctionArgs</span>/<span class="tt">ActionFunction</span>/<span class="tt">LoaderFunctionArgs</span>/<span class="tt">LoaderFunction</span> now accept a generic for the <span class="tt">context</span> parameter (only used in SSR usages via <span class="tt">createStaticHandler</span>)</li>
<li>The return type of <span class="tt">useMatches</span> (now exported as <span class="tt">UIMatch</span>) accepts generics for <span class="tt">match.data</span> and <span class="tt">match.handle</span> - both of which were already set to <span class="tt">unknown</span></li>
</ul>
</li>
<li>Move the <span class="tt">@private</span> class export <span class="tt">ErrorResponse</span> to an <span class="tt">UNSAFE_ErrorResponseImpl</span> export since it is an implementation detail and there should be no construction of <span class="tt">ErrorResponse</span> instances in userland. This frees us up to export a <span class="tt">type ErrorResponse</span> which correlates to an instance of the class via <span class="tt">InstanceType</span>. Userland code should only ever be using <span class="tt">ErrorResponse</span> as a type and should be type-narrowing via <span class="tt">isRouteErrorResponse</span>. (<a href="https://github.com/remix-run/react-router/pull/10811">#10811</a>)</li>
<li>Export <span class="tt">ShouldRevalidateFunctionArgs</span> interface (<a href="https://github.com/remix-run/react-router/pull/10797">#10797</a>)</li>
<li>Removed private/internal APIs only required for the Remix v1 backwards compatibility layer and no longer needed in Remix v2 (<span class="tt">_isFetchActionRedirect</span>, <span class="tt">_hasFetcherDoneAnything</span>) (<a href="https://github.com/remix-run/react-router/pull/10715">#10715</a>)</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md687"></a>
Patch Changes</h2>
<ul>
<li>Add method/url to error message on aborted <span class="tt">query</span>/<span class="tt">queryRoute</span> calls (<a href="https://github.com/remix-run/react-router/pull/10793">#10793</a>)</li>
<li>Fix a race-condition with loader/action-thrown errors on <span class="tt">route.lazy</span> routes (<a href="https://github.com/remix-run/react-router/pull/10778">#10778</a>)</li>
<li>Fix type for <span class="tt">actionResult</span> on the arguments object passed to <span class="tt">shouldRevalidate</span> (<a href="https://github.com/remix-run/react-router/pull/10779">#10779</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md688"></a>
1.8.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md689"></a>
Minor Changes</h2>
<ul>
<li>Add's a new <span class="tt">redirectDocument()</span> function which allows users to specify that a redirect from a <span class="tt">loader</span>/<span class="tt">action</span> should trigger a document reload (via <span class="tt">window.location</span>) instead of attempting to navigate to the redirected location via React Router (<a href="https://github.com/remix-run/react-router/pull/10705">#10705</a>)</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md690"></a>
Patch Changes</h2>
<ul>
<li>Fix an issue in <span class="tt">queryRoute</span> that was not always identifying thrown <span class="tt">Response</span> instances (<a href="https://github.com/remix-run/react-router/pull/10717">#10717</a>)</li>
<li>Ensure hash history always includes a leading slash on hash pathnames (<a href="https://github.com/remix-run/react-router/pull/10753">#10753</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md691"></a>
1.7.2</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md692"></a>
Patch Changes</h2>
<ul>
<li>Trigger an error if a <span class="tt">defer</span> promise resolves/rejects with <span class="tt">undefined</span> in order to match the behavior of loaders and actions which must return a value or <span class="tt">null</span> (<a href="https://github.com/remix-run/react-router/pull/10690">#10690</a>)</li>
<li>Properly handle fetcher redirects interrupted by normal navigations (<a href="https://github.com/remix-run/react-router/pull/10674">#10674</a>, <a href="https://github.com/remix-run/react-router/pull/10709">#10709</a>)</li>
<li>Initial-load fetchers should not automatically revalidate on GET navigations (<a href="https://github.com/remix-run/react-router/pull/10688">#10688</a>)</li>
<li>Enhance the return type of <span class="tt">Route.lazy</span> to prohibit returning an empty object (<a href="https://github.com/remix-run/react-router/pull/10634">#10634</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md693"></a>
1.7.1</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md694"></a>
Patch Changes</h2>
<ul>
<li>Fix issues with reused blockers on subsequent navigations (<a href="https://github.com/remix-run/react-router/pull/10656">#10656</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md695"></a>
1.7.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md696"></a>
Minor Changes</h2>
<ul>
<li><p class="startli">Add support for <span class="tt">application/json</span> and <span class="tt">text/plain</span> encodings for <span class="tt">router.navigate</span>/<span class="tt">router.fetch</span> submissions. To leverage these encodings, pass your data in a <span class="tt">body</span> parameter and specify the desired <span class="tt">formEncType</span>: (<a href="https://github.com/remix-run/react-router/pull/10413">#10413</a>)</p>
<div class="fragment"><div class="line">// By default, the encoding is &quot;application/x-www-form-urlencoded&quot;</div>
<div class="line">router.navigate(&quot;/&quot;, {</div>
<div class="line">  formMethod: &quot;post&quot;,</div>
<div class="line">  body: { key: &quot;value&quot; },</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">async function action({ request }) {</div>
<div class="line">  // await request.formData() =&gt; FormData instance with entry [key=value]</div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line">// Pass `formEncType` to opt-into a different encoding (json)</div>
<div class="line">router.navigate(&quot;/&quot;, {</div>
<div class="line">  formMethod: &quot;post&quot;,</div>
<div class="line">  formEncType: &quot;application/json&quot;,</div>
<div class="line">  body: { key: &quot;value&quot; },</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">async function action({ request }) {</div>
<div class="line">  // await request.json() =&gt; { key: &quot;value&quot; }</div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line">// Pass `formEncType` to opt-into a different encoding (text)</div>
<div class="line">router.navigate(&quot;/&quot;, {</div>
<div class="line">  formMethod: &quot;post&quot;,</div>
<div class="line">  formEncType: &quot;text/plain&quot;,</div>
<div class="line">  body: &quot;Text submission&quot;,</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">async function action({ request }) {</div>
<div class="line">  // await request.text() =&gt; &quot;Text submission&quot;</div>
<div class="line">}</div>
</div><!-- fragment --></li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md697"></a>
Patch Changes</h2>
<ul>
<li>Call <span class="tt">window.history.pushState/replaceState</span> before updating React Router state (instead of after) so that <span class="tt">window.location</span> matches <span class="tt">useLocation</span> during synchronous React 17 rendering (<a href="https://github.com/remix-run/react-router/pull/10448">#10448</a>)<ul>
<li>⚠️ However, generally apps should not be relying on <span class="tt">window.location</span> and should always reference <span class="tt">useLocation</span> when possible, as <span class="tt">window.location</span> will not be in sync 100% of the time (due to <span class="tt">popstate</span> events, concurrent mode, etc.)</li>
</ul>
</li>
<li>Strip <span class="tt">basename</span> from the <span class="tt">location</span> provided to <span class="tt">&lt;ScrollRestoration getKey&gt;</span> to match the <span class="tt">useLocation</span> behavior (<a href="https://github.com/remix-run/react-router/pull/10550">#10550</a>)</li>
<li>Avoid calling <span class="tt">shouldRevalidate</span> for fetchers that have not yet completed a data load (<a href="https://github.com/remix-run/react-router/pull/10623">#10623</a>)</li>
<li>Fix <span class="tt">unstable_useBlocker</span> key issues in <span class="tt">StrictMode</span> (<a href="https://github.com/remix-run/react-router/pull/10573">#10573</a>)</li>
<li>Upgrade <span class="tt">typescript</span> to 5.1 (<a href="https://github.com/remix-run/react-router/pull/10581">#10581</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md698"></a>
1.6.3</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md699"></a>
Patch Changes</h2>
<ul>
<li>Allow fetcher revalidations to complete if submitting fetcher is deleted (<a href="https://github.com/remix-run/react-router/pull/10535">#10535</a>)</li>
<li>Re-throw <span class="tt">DOMException</span> (<span class="tt">DataCloneError</span>) when attempting to perform a <span class="tt">PUSH</span> navigation with non-serializable state. (<a href="https://github.com/remix-run/react-router/pull/10427">#10427</a>)</li>
<li>Ensure revalidations happen when hash is present (<a href="https://github.com/remix-run/react-router/pull/10516">#10516</a>)</li>
<li>upgrade jest and jsdom (<a href="https://github.com/remix-run/react-router/pull/10453">#10453</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md700"></a>
1.6.2</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md701"></a>
Patch Changes</h2>
<ul>
<li>Fix HMR-driven error boundaries by properly reconstructing new routes and <span class="tt">manifest</span> in <span class="tt">\_internalSetRoutes</span> (<a href="https://github.com/remix-run/react-router/pull/10437">#10437</a>)</li>
<li>Fix bug where initial data load would not kick off when hash is present (<a href="https://github.com/remix-run/react-router/pull/10493">#10493</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md702"></a>
1.6.1</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md703"></a>
Patch Changes</h2>
<ul>
<li>Fix <span class="tt">basename</span> handling when navigating without a path (<a href="https://github.com/remix-run/react-router/pull/10433">#10433</a>)</li>
<li>"Same hash" navigations no longer re-run loaders to match browser behavior (i.e. <span class="tt">/path#hash -&gt; /path#hash</span>) (<a href="https://github.com/remix-run/react-router/pull/10408">#10408</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md704"></a>
1.6.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md705"></a>
Minor Changes</h2>
<ul>
<li>Enable relative routing in the <span class="tt">@remix-run/router</span> when providing a source route ID from which the path is relative to: (<a href="https://github.com/remix-run/react-router/pull/10336">#10336</a>)<ul>
<li>Example: <span class="tt">router.navigate("../path", { fromRouteId: "some-route" })</span>.</li>
<li>This also applies to <span class="tt">router.fetch</span> which already receives a source route ID</li>
</ul>
</li>
<li>Introduce a new <span class="tt">@remix-run/router</span> <span class="tt">future.v7_prependBasename</span> flag to enable <span class="tt">basename</span> prefixing to all paths coming into <span class="tt">router.navigate</span> and <span class="tt">router.fetch</span>.<ul>
<li>Previously the <span class="tt">basename</span> was prepended in the React Router layer, but now that relative routing is being handled by the router we need prepend the <span class="tt">basename</span> <em>after</em> resolving any relative paths</li>
<li>This also enables <span class="tt">basename</span> support in <span class="tt">useFetcher</span> as well</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md706"></a>
Patch Changes</h2>
<ul>
<li>Enhance <span class="tt">LoaderFunction</span>/<span class="tt">ActionFunction</span> return type to prevent <span class="tt">undefined</span> from being a valid return value (<a href="https://github.com/remix-run/react-router/pull/10267">#10267</a>)</li>
<li>Ensure proper 404 error on <span class="tt">fetcher.load</span> call to a route without a <span class="tt">loader</span> (<a href="https://github.com/remix-run/react-router/pull/10345">#10345</a>)</li>
<li>Deprecate the <span class="tt">createRouter</span> <span class="tt">detectErrorBoundary</span> option in favor of the new <span class="tt">mapRouteProperties</span> option for converting a framework-agnostic route to a framework-aware route. This allows us to set more than just the <span class="tt">hasErrorBoundary</span> property during route pre-processing, and is now used for mapping <span class="tt">Component -&gt; element</span> and <span class="tt">ErrorBoundary -&gt; errorElement</span> in <span class="tt">react-router</span>. (<a href="https://github.com/remix-run/react-router/pull/10287">#10287</a>)</li>
<li>Fixed a bug where fetchers were incorrectly attempting to revalidate on search params changes or routing to the same URL (using the same logic for route <span class="tt">loader</span> revalidations). However, since fetchers have a static href, they should only revalidate on <span class="tt">action</span> submissions or <span class="tt">router.revalidate</span> calls. (<a href="https://github.com/remix-run/react-router/pull/10344">#10344</a>)</li>
<li>Decouple <span class="tt">AbortController</span> usage between revalidating fetchers and the thing that triggered them such that the unmount/deletion of a revalidating fetcher doesn't impact the ongoing triggering navigation/revalidation (<a href="https://github.com/remix-run/react-router/pull/10271">#10271</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md707"></a>
1.5.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md708"></a>
Minor Changes</h2>
<ul>
<li>Added support for <a href="https://reactrouter.com/en/main/guides/api-development-strategy"><b>Future Flags</b></a> in React Router. The first flag being introduced is <span class="tt">future.v7_normalizeFormMethod</span> which will normalize the exposed <span class="tt">useNavigation()/useFetcher()</span> <span class="tt">formMethod</span> fields as uppercase HTTP methods to align with the <span class="tt">fetch()</span> behavior. (<a href="https://github.com/remix-run/react-router/pull/10207">#10207</a>)<ul>
<li>When <span class="tt">future.v7_normalizeFormMethod === false</span> (default v6 behavior),<ul>
<li><span class="tt">useNavigation().formMethod</span> is lowercase</li>
<li><span class="tt">useFetcher().formMethod</span> is lowercase</li>
</ul>
</li>
<li>When <span class="tt">future.v7_normalizeFormMethod === true</span>:<ul>
<li><span class="tt">useNavigation().formMethod</span> is uppercase</li>
<li><span class="tt">useFetcher().formMethod</span> is uppercase</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md709"></a>
Patch Changes</h2>
<ul>
<li>Provide fetcher submission to <span class="tt">shouldRevalidate</span> if the fetcher action redirects (<a href="https://github.com/remix-run/react-router/pull/10208">#10208</a>)</li>
<li>Properly handle <span class="tt">lazy()</span> errors during router initialization (<a href="https://github.com/remix-run/react-router/pull/10201">#10201</a>)</li>
<li>Remove <span class="tt">instanceof</span> check for <span class="tt">DeferredData</span> to be resilient to ESM/CJS boundaries in SSR bundling scenarios (<a href="https://github.com/remix-run/react-router/pull/10247">#10247</a>)</li>
<li>Update to latest <span class="tt">@remix-run/web-fetch@4.3.3</span> (<a href="https://github.com/remix-run/react-router/pull/10216">#10216</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md710"></a>
1.4.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md711"></a>
Minor Changes</h2>
<ul>
<li><p class="startli"><b>Introducing Lazy Route Modules!</b> (<a href="https://github.com/remix-run/react-router/pull/10045">#10045</a>)</p>
<p class="startli">In order to keep your application bundles small and support code-splitting of your routes, we've introduced a new <span class="tt">lazy()</span> route property. This is an async function that resolves the non-route-matching portions of your route definition (<span class="tt">loader</span>, <span class="tt">action</span>, <span class="tt">element</span>/<span class="tt">Component</span>, <span class="tt">errorElement</span>/<span class="tt">ErrorBoundary</span>, <span class="tt">shouldRevalidate</span>, <span class="tt">handle</span>).</p>
<p class="startli">Lazy routes are resolved on initial load and during the <span class="tt">loading</span> or <span class="tt">submitting</span> phase of a navigation or fetcher call. You cannot lazily define route-matching properties (<span class="tt">path</span>, <span class="tt">index</span>, <span class="tt">children</span>) since we only execute your lazy route functions after we've matched known routes.</p>
<p class="startli">Your <span class="tt">lazy</span> functions will typically return the result of a dynamic import.</p>
<div class="fragment"><div class="line">// In this example, we assume most folks land on the homepage so we include that</div>
<div class="line">// in our critical-path bundle, but then we lazily load modules for /a and /b so</div>
<div class="line">// they don&#39;t load until the user navigates to those routes</div>
<div class="line">let routes = createRoutesFromElements(</div>
<div class="line">  &lt;Route path=&quot;/&quot; element={&lt;Layout /&gt;}&gt;</div>
<div class="line">    &lt;Route index element={&lt;Home /&gt;} /&gt;</div>
<div class="line">    &lt;Route path=&quot;a&quot; lazy={() =&gt; import(&quot;./a&quot;)} /&gt;</div>
<div class="line">    &lt;Route path=&quot;b&quot; lazy={() =&gt; import(&quot;./b&quot;)} /&gt;</div>
<div class="line">  &lt;/Route&gt;</div>
<div class="line">);</div>
</div><!-- fragment --><p class="startli">Then in your lazy route modules, export the properties you want defined for the route:</p>
<div class="fragment"><div class="line">export async function loader({ request }) {</div>
<div class="line">  let data = await fetchData(request);</div>
<div class="line">  return json(data);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">// Export a `Component` directly instead of needing to create a React Element from it</div>
<div class="line">export function Component() {</div>
<div class="line">  let data = useLoaderData();</div>
<div class="line"> </div>
<div class="line">  return (</div>
<div class="line">    &lt;&gt;</div>
<div class="line">      &lt;h1&gt;You made it!&lt;/h1&gt;</div>
<div class="line">      &lt;p&gt;{data}&lt;/p&gt;</div>
<div class="line">    &lt;/&gt;</div>
<div class="line">  );</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">// Export an `ErrorBoundary` directly instead of needing to create a React Element from it</div>
<div class="line">export function ErrorBoundary() {</div>
<div class="line">  let error = useRouteError();</div>
<div class="line">  return isRouteErrorResponse(error) ? (</div>
<div class="line">    &lt;h1&gt;</div>
<div class="line">      {error.status} {error.statusText}</div>
<div class="line">    &lt;/h1&gt;</div>
<div class="line">  ) : (</div>
<div class="line">    &lt;h1&gt;{error.message || error}&lt;/h1&gt;</div>
<div class="line">  );</div>
<div class="line">}</div>
</div><!-- fragment --><p class="startli">An example of this in action can be found in the <a href="https://github.com/remix-run/react-router/tree/main/examples/lazy-loading-router-provider"><span class="tt">examples/lazy-loading-router-provider</span></a> directory of the repository.</p>
<p class="startli">🙌 Huge thanks to @rossipedia for the <a href="https://github.com/remix-run/react-router/discussions/9826">Initial Proposal</a> and <a href="https://github.com/remix-run/react-router/pull/9830">POC Implementation</a>.</p>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md712"></a>
Patch Changes</h2>
<ul>
<li>Fix <span class="tt">generatePath</span> incorrectly applying parameters in some cases (<a href="https://github.com/remix-run/react-router/pull/10078">#10078</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md713"></a>
1.3.3</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md714"></a>
Patch Changes</h2>
<ul>
<li>Correctly perform a hard redirect for same-origin absolute URLs outside of the router <span class="tt">basename</span> (<a href="https://github.com/remix-run/react-router/pull/10076">#10076</a>)</li>
<li>Ensure status code and headers are maintained for <span class="tt">defer</span> loader responses in <span class="tt">createStaticHandler</span>'s <span class="tt">query()</span> method (<a href="https://github.com/remix-run/react-router/pull/10077">#10077</a>)</li>
<li>Change <span class="tt">invariant</span> to an <span class="tt">UNSAFE_invariant</span> export since it's only intended for internal use (<a href="https://github.com/remix-run/react-router/pull/10066">#10066</a>)</li>
<li>Add internal API for custom HMR implementations (<a href="https://github.com/remix-run/react-router/pull/9996">#9996</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md715"></a>
1.3.2</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md716"></a>
Patch Changes</h2>
<ul>
<li>Remove inaccurate console warning for POP navigations and update active blocker logic (<a href="https://github.com/remix-run/react-router/pull/10030">#10030</a>)</li>
<li>Only check for differing origin on absolute URL redirects (<a href="https://github.com/remix-run/react-router/pull/10033">#10033</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md717"></a>
1.3.1</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md718"></a>
Patch Changes</h2>
<ul>
<li>Fixes 2 separate issues for revalidating fetcher <span class="tt">shouldRevalidate</span> calls (<a href="https://github.com/remix-run/react-router/pull/9948">#9948</a>)<ul>
<li>The <span class="tt">shouldRevalidate</span> function was only being called for <em>explicit</em> revalidation scenarios (after a mutation, manual <span class="tt">useRevalidator</span> call, or an <span class="tt">X-Remix-Revalidate</span> header used for cookie setting in Remix). It was not properly being called on <em>implicit</em> revalidation scenarios that also apply to navigation <span class="tt">loader</span> revalidation, such as a change in search params or clicking a link for the page we're already on. It's now correctly called in those additional scenarios.</li>
<li>The parameters being passed were incorrect and inconsistent with one another since the <span class="tt">current*</span>/<span class="tt">next*</span> parameters reflected the static <span class="tt">fetcher.load</span> URL (and thus were identical). Instead, they should have reflected the the navigation that triggered the revalidation (as the <span class="tt">form*</span> parameters did). These parameters now correctly reflect the triggering navigation.</li>
</ul>
</li>
<li>Respect <span class="tt">preventScrollReset</span> on <span class="tt">&lt;fetcher.Form&gt;</span> (<a href="https://github.com/remix-run/react-router/pull/9963">#9963</a>)</li>
<li>Do not short circuit on hash change only mutation submissions (<a href="https://github.com/remix-run/react-router/pull/9944">#9944</a>)</li>
<li>Remove <span class="tt">instanceof</span> check from <span class="tt">isRouteErrorResponse</span> to avoid bundling issues on the server (<a href="https://github.com/remix-run/react-router/pull/9930">#9930</a>)</li>
<li>Fix navigation for hash routers on manual URL changes (<a href="https://github.com/remix-run/react-router/pull/9980">#9980</a>)</li>
<li>Detect when a <span class="tt">defer</span> call only contains critical data and remove the <span class="tt">AbortController</span> (<a href="https://github.com/remix-run/react-router/pull/9965">#9965</a>)</li>
<li>Send the name as the value when url-encoding <span class="tt">File</span> <span class="tt">FormData</span> entries (<a href="https://github.com/remix-run/react-router/pull/9867">#9867</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md719"></a>
1.3.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md720"></a>
Minor Changes</h2>
<ul>
<li>Added support for navigation blocking APIs (<a href="https://github.com/remix-run/react-router/pull/9709">#9709</a>)</li>
<li>Expose deferred information from <span class="tt">createStaticHandler</span> (<a href="https://github.com/remix-run/react-router/pull/9760">#9760</a>)</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md721"></a>
Patch Changes</h2>
<ul>
<li>Improved absolute redirect url detection in actions/loaders (<a href="https://github.com/remix-run/react-router/pull/9829">#9829</a>)</li>
<li>Fix URL creation with memory histories (<a href="https://github.com/remix-run/react-router/pull/9814">#9814</a>)</li>
<li>Fix <span class="tt">generatePath</span> when optional params are present (<a href="https://github.com/remix-run/react-router/pull/9764">#9764</a>)</li>
<li>Fix scroll reset if a submission redirects (<a href="https://github.com/remix-run/react-router/pull/9886">#9886</a>)</li>
<li>Fix 404 bug with same-origin absolute redirects (<a href="https://github.com/remix-run/react-router/pull/9913">#9913</a>)</li>
<li>Support <span class="tt">OPTIONS</span> requests in <span class="tt">staticHandler.queryRoute</span> (<a href="https://github.com/remix-run/react-router/pull/9914">#9914</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md722"></a>
1.2.1</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md723"></a>
Patch Changes</h2>
<ul>
<li>Include submission info in <span class="tt">shouldRevalidate</span> on action redirects (<a href="https://github.com/remix-run/react-router/pull/9777">#9777</a>, <a href="https://github.com/remix-run/react-router/pull/9782">#9782</a>)</li>
<li>Reset <span class="tt">actionData</span> on action redirect to current location (<a href="https://github.com/remix-run/react-router/pull/9772">#9772</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md724"></a>
1.2.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md725"></a>
Minor Changes</h2>
<ul>
<li>Remove <span class="tt">unstable_</span> prefix from <span class="tt">createStaticHandler</span>/<span class="tt">createStaticRouter</span>/<span class="tt">StaticRouterProvider</span> (<a href="https://github.com/remix-run/react-router/pull/9738">#9738</a>)</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md726"></a>
Patch Changes</h2>
<ul>
<li>Fix explicit <span class="tt">replace</span> on submissions and <span class="tt">PUSH</span> on submission to new paths (<a href="https://github.com/remix-run/react-router/pull/9734">#9734</a>)</li>
<li>Fix a few bugs where loader/action data wasn't properly cleared on errors (<a href="https://github.com/remix-run/react-router/pull/9735">#9735</a>)</li>
<li>Prevent <span class="tt">useLoaderData</span> usage in <span class="tt">errorElement</span> (<a href="https://github.com/remix-run/react-router/pull/9735">#9735</a>)</li>
<li>Skip initial scroll restoration for SSR apps with <span class="tt">hydrationData</span> (<a href="https://github.com/remix-run/react-router/pull/9664">#9664</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md727"></a>
1.1.0</h1>
<p>This release introduces support for <a href="https://github.com/remix-run/react-router/issues/9546">Optional Route Segments</a>. Now, adding a <span class="tt">?</span> to the end of any path segment will make that entire segment optional. This works for both static segments and dynamic parameters.</p>
<p><b>Optional Params Examples</b></p>
<ul>
<li>Path <span class="tt">lang?/about</span> will match:<ul>
<li><span class="tt">/:lang/about</span></li>
<li><span class="tt">/about</span></li>
</ul>
</li>
<li>Path <span class="tt">/multistep/:widget1?/widget2?/widget3?</span> will match:<ul>
<li><span class="tt">/multistep</span></li>
<li><span class="tt">/multistep/:widget1</span></li>
<li><span class="tt">/multistep/:widget1/:widget2</span></li>
<li><span class="tt">/multistep/:widget1/:widget2/:widget3</span></li>
</ul>
</li>
</ul>
<p><b>Optional Static Segment Example</b></p>
<ul>
<li>Path <span class="tt">/home?</span> will match:<ul>
<li><span class="tt">/</span></li>
<li><span class="tt">/home</span></li>
</ul>
</li>
<li>Path <span class="tt">/fr?/about</span> will match:<ul>
<li><span class="tt">/about</span></li>
<li><span class="tt">/fr/about</span></li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md728"></a>
Minor Changes</h2>
<ul>
<li>Allows optional routes and optional static segments (<a href="https://github.com/remix-run/react-router/pull/9650">#9650</a>)</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md729"></a>
Patch Changes</h2>
<ul>
<li>Stop incorrectly matching on partial named parameters, i.e. <span class="tt">&lt;Route path="prefix-:param"&gt;</span>, to align with how splat parameters work. If you were previously relying on this behavior then it's recommended to extract the static portion of the path at the <span class="tt">useParams</span> call site: (<a href="https://github.com/remix-run/react-router/pull/9506">#9506</a>)</li>
</ul>
<div class="fragment"><div class="line">// Old behavior at URL /prefix-123</div>
<div class="line">&lt;Route path=&quot;prefix-:id&quot; element={&lt;Comp /&gt; }&gt;</div>
<div class="line"> </div>
<div class="line">function Comp() {</div>
<div class="line">  let params = useParams(); // { id: &#39;123&#39; }</div>
<div class="line">  let id = params.id; // &quot;123&quot;</div>
<div class="line">  ...</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">// New behavior at URL /prefix-123</div>
<div class="line">&lt;Route path=&quot;:id&quot; element={&lt;Comp /&gt; }&gt;</div>
<div class="line"> </div>
<div class="line">function Comp() {</div>
<div class="line">  let params = useParams(); // { id: &#39;prefix-123&#39; }</div>
<div class="line">  let id = params.id.replace(/^prefix-/, &#39;&#39;); // &quot;123&quot;</div>
<div class="line">  ...</div>
<div class="line">}</div>
</div><!-- fragment --><ul>
<li>Persist <span class="tt">headers</span> on <span class="tt">loader</span> <span class="tt">request</span>'s after SSR document <span class="tt">action</span> request (<a href="https://github.com/remix-run/react-router/pull/9721">#9721</a>)</li>
<li>Fix requests sent to revalidating loaders so they reflect a GET request (<a href="https://github.com/remix-run/react-router/pull/9660">#9660</a>)</li>
<li>Fix issue with deeply nested optional segments (<a href="https://github.com/remix-run/react-router/pull/9727">#9727</a>)</li>
<li>GET forms now expose a submission on the loading navigation (<a href="https://github.com/remix-run/react-router/pull/9695">#9695</a>)</li>
<li>Fix error boundary tracking for multiple errors bubbling to the same boundary (<a href="https://github.com/remix-run/react-router/pull/9702">#9702</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md730"></a>
1.0.5</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md731"></a>
Patch Changes</h2>
<ul>
<li>Fix requests sent to revalidating loaders so they reflect a <span class="tt">GET</span> request (<a href="https://github.com/remix-run/react-router/pull/9680">#9680</a>)</li>
<li>Remove <span class="tt">instanceof Response</span> checks in favor of <span class="tt">isResponse</span> (<a href="https://github.com/remix-run/react-router/pull/9690">#9690</a>)</li>
<li>Fix <span class="tt">URL</span> creation in Cloudflare Pages or other non-browser-environments (<a href="https://github.com/remix-run/react-router/pull/9682">#9682</a>, <a href="https://github.com/remix-run/react-router/pull/9689">#9689</a>)</li>
<li>Add <span class="tt">requestContext</span> support to static handler <span class="tt">query</span>/<span class="tt">queryRoute</span> (<a href="https://github.com/remix-run/react-router/pull/9696">#9696</a>)<ul>
<li>Note that the unstable API of <span class="tt">queryRoute(path, routeId)</span> has been changed to <span class="tt">queryRoute(path, { routeId, requestContext })</span></li>
</ul>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md732"></a>
1.0.4</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md733"></a>
Patch Changes</h2>
<ul>
<li>Throw an error if an <span class="tt">action</span>/<span class="tt">loader</span> function returns <span class="tt">undefined</span> as revalidations need to know whether the loader has previously been executed. <span class="tt">undefined</span> also causes issues during SSR stringification for hydration. You should always ensure you <span class="tt">loader</span>/<span class="tt">action</span> returns a value, and you may return <span class="tt">null</span> if you don't wish to return anything. (<a href="https://github.com/remix-run/react-router/pull/9511">#9511</a>)</li>
<li>Properly handle redirects to external domains (<a href="https://github.com/remix-run/react-router/pull/9590">#9590</a>, <a href="https://github.com/remix-run/react-router/pull/9654">#9654</a>)</li>
<li>Preserve the HTTP method on 307/308 redirects (<a href="https://github.com/remix-run/react-router/pull/9597">#9597</a>)</li>
<li>Support <span class="tt">basename</span> in static data routers (<a href="https://github.com/remix-run/react-router/pull/9591">#9591</a>)</li>
<li>Enhanced <span class="tt">ErrorResponse</span> bodies to contain more descriptive text in internal 403/404/405 scenarios</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md734"></a>
1.0.3</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md735"></a>
Patch Changes</h2>
<ul>
<li>Fix hrefs generated when using <span class="tt">createHashRouter</span> (<a href="https://github.com/remix-run/react-router/pull/9409">#9409</a>)</li>
<li>fix encoding/matching issues with special chars (<a href="https://github.com/remix-run/react-router/pull/9477">#9477</a>, <a href="https://github.com/remix-run/react-router/pull/9496">#9496</a>)</li>
<li>Support <span class="tt">basename</span> and relative routing in <span class="tt">loader</span>/<span class="tt">action</span> redirects (<a href="https://github.com/remix-run/react-router/pull/9447">#9447</a>)</li>
<li>Ignore pathless layout routes when looking for proper submission <span class="tt">action</span> function (<a href="https://github.com/remix-run/react-router/pull/9455">#9455</a>)</li>
<li>properly support <span class="tt">index</span> routes with a <span class="tt">path</span> in <span class="tt">useResolvedPath</span> (<a href="https://github.com/remix-run/react-router/pull/9486">#9486</a>)</li>
<li>Add UMD build for <span class="tt">@remix-run/router</span> (<a href="https://github.com/remix-run/react-router/pull/9446">#9446</a>)</li>
<li>fix <span class="tt">createURL</span> in local file execution in Firefox (<a href="https://github.com/remix-run/react-router/pull/9464">#9464</a>)</li>
<li>Updates to <span class="tt">unstable_createStaticHandler</span> for incorporating into Remix (<a href="https://github.com/remix-run/react-router/pull/9482">#9482</a>, <a href="https://github.com/remix-run/react-router/pull/9465">#9465</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md736"></a>
1.0.2</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md737"></a>
Patch Changes</h2>
<ul>
<li>Reset <span class="tt">actionData</span> after a successful action redirect (<a href="https://github.com/remix-run/react-router/pull/9334">#9334</a>)</li>
<li>Update <span class="tt">matchPath</span> to avoid false positives on dash-separated segments (<a href="https://github.com/remix-run/react-router/pull/9300">#9300</a>)</li>
<li>If an index route has children, it will result in a runtime error. We have strengthened our <span class="tt">RouteObject</span>/<span class="tt">RouteProps</span> types to surface the error in TypeScript. (<a href="https://github.com/remix-run/react-router/pull/9366">#9366</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md738"></a>
1.0.1</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md739"></a>
Patch Changes</h2>
<ul>
<li>Preserve state from <span class="tt">initialEntries</span> (<a href="https://github.com/remix-run/react-router/pull/9288">#9288</a>)</li>
<li>Preserve <span class="tt">?index</span> for fetcher get submissions to index routes (<a href="https://github.com/remix-run/react-router/pull/9312">#9312</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md740"></a>
1.0.0</h1>
<p>This is the first stable release of <span class="tt">@remix-run/router</span>, which provides all the underlying routing and data loading/mutation logic for <span class="tt">react-router</span>. You should <em>not</em> be using this package directly unless you are authoring a routing library similar to <span class="tt">react-router</span>.</p>
<p>For an overview of the features provided by <span class="tt">react-router</span>, we recommend you go check out the <a href="https://reactrouter.com">docs</a>, especially the <a href="https://reactrouter.com/start/overview">feature overview</a> and the <a href="https://reactrouter.com/start/tutorial">tutorial</a>.</p>
<p>For an overview of the features provided by <span class="tt">@remix-run/router</span>, please check out the <a class="el" href="dir_10d5e94f9d15aaeafefce9fcc57d6e45.html" title="C:/Users/annaa/OneDrive/Desktop/sdv-gestion-academica/sdv-frontend/node_modules/@remix-run/router/README.md"><span class="tt">README</span></a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.16.1 </li>
  </ul>
</div>
</body>
</html>
